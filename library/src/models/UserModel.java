package models;

import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;
import java.util.Date;

public class UserModel extends BaseModel implements Serializable {

    //id will be generated by database in BaseModel class

    private String name;
    private String surname;

    public UserModel(Date registration, String name, String surname) {
        setDate(registration);
        this.name = name;
        this.surname = surname;
    }

    public UserModel() {
    }

    @Override
    public void serialize(ObjectOutputStream outputStream) throws IOException {
        outputStream.writeObject(getId());
        outputStream.writeObject(getDate());
        outputStream.writeObject(name);
        outputStream.writeObject(surname);
    }

    @Override
    public void deserialize(ObjectInputStream inputStream) throws IOException, ClassNotFoundException {
        setId((Integer) inputStream.readObject());
        setDate((Date) inputStream.readObject());
        setName((String) inputStream.readObject());
        setsurname((String) inputStream.readObject());
    }

    public static String getFullName(String name, String surname) {
        return name + " " + surname;
    }

    public String getName() {
        return name;
    }

    public String getsurname() {
        return surname;
    }

    public void setName(String name) {
        this.name = name;
    }

    public void setsurname(String surname) {
        this.surname = surname;
    }

    @Override
    public String toString() {
        return super.toString() +
                "\nregistration date: " + getDate() +
                "\nname: " + name +
                "\nsure name: " + surname +
                "\n";
    }
}
